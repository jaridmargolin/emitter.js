!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.EventEmitter=b()}(this,function(){var a;return a=function(){var a=this,b=function(){this.events={}};return b.prototype.on=function(b,c,d){return(this.events[b]=this.events[b]||[]).unshift({fn:c,context:d||a}),this},b.prototype.off=function(a,b){return a?b?this._loopSubscribers(a,function(a,c){a[c].fn===b&&a.splice(c,1)}):delete this.events[a]:this.events={},this},b.prototype.trigger=function(a){var b=Array.prototype.slice.call(arguments,1);return this._loopSubscribers(a,function(a,c){var d=a[c];d.fn.apply(d.context,b)}),this},b.prototype._loopSubscribers=function(a,b){for(var c=this.events[a]||[],d=c.length;d--;)b(c,d)},b}()});